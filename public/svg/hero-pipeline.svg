<svg viewBox="0 0 1000 750" preserveAspectRatio="xMidYMid slice" fill="none" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <filter id="hs"><feDropShadow dx="4" dy="4" stdDeviation="0" flood-color="#3a3535" flood-opacity="1"/></filter>
  </defs>

  <!-- Flow lines -->
  <path d="M 195,200 L 300,200 L 340,300 L 430,300" stroke="#3a3535" stroke-width="2" opacity="0.12"/>
  <path d="M 195,380 L 300,380 L 340,370 L 430,370" stroke="#3a3535" stroke-width="2" opacity="0.12"/>
  <path d="M 195,550 L 300,550 L 340,440 L 430,440" stroke="#3a3535" stroke-width="2" opacity="0.12"/>
  <path d="M 600,300 L 670,300 L 700,280 L 760,280" stroke="#3a3535" stroke-width="2" opacity="0.12"/>
  <path d="M 600,440 L 670,440 L 700,460 L 760,460" stroke="#3a3535" stroke-width="2" opacity="0.12"/>

  <!-- Arrow heads -->
  <polygon points="430,295 430,305 440,300" fill="#3a3535" opacity="0.2"/>
  <polygon points="430,365 430,375 440,370" fill="#3a3535" opacity="0.2"/>
  <polygon points="430,435 430,445 440,440" fill="#3a3535" opacity="0.2"/>
  <polygon points="760,275 760,285 770,280" fill="#3a3535" opacity="0.2"/>
  <polygon points="760,455 760,465 770,460" fill="#3a3535" opacity="0.2"/>

  <!-- Stage 1: Input sources -->
  <rect x="80" y="160" width="115" height="80" fill="#ffa878" stroke="#3a3535" stroke-width="2.5" filter="url(#hs)"/>
  <rect x="80" y="340" width="115" height="80" fill="#ffa878" stroke="#3a3535" stroke-width="2.5" filter="url(#hs)"/>
  <rect x="80" y="510" width="115" height="80" fill="#ffa878" stroke="#3a3535" stroke-width="2.5" filter="url(#hs)"/>
  <rect x="100" y="185" width="55" height="5" fill="#3a3535" opacity="0.25"/>
  <rect x="100" y="198" width="75" height="4" fill="#3a3535" opacity="0.12"/>
  <rect x="100" y="208" width="60" height="4" fill="#3a3535" opacity="0.12"/>
  <rect x="100" y="365" width="50" height="5" fill="#3a3535" opacity="0.25"/>
  <rect x="100" y="378" width="70" height="4" fill="#3a3535" opacity="0.12"/>
  <rect x="100" y="388" width="55" height="4" fill="#3a3535" opacity="0.12"/>
  <rect x="100" y="535" width="60" height="5" fill="#3a3535" opacity="0.25"/>
  <rect x="100" y="548" width="65" height="4" fill="#3a3535" opacity="0.12"/>
  <rect x="100" y="558" width="50" height="4" fill="#3a3535" opacity="0.12"/>

  <!-- Stage 2: Processing -->
  <rect x="440" y="260" width="160" height="220" fill="#7fb4e0" stroke="#3a3535" stroke-width="2.5" filter="url(#hs)"/>
  <rect x="460" y="285" width="50" height="5" fill="#3a3535" opacity="0.25"/>
  <line x1="460" y1="305" x2="580" y2="305" stroke="#3a3535" stroke-width="1" opacity="0.1"/>
  <rect x="460" y="320" width="120" height="25" fill="rgba(250,247,242,0.4)" stroke="#3a3535" stroke-width="1.5"/>
  <rect x="470" y="327" width="40" height="4" fill="#3a3535" opacity="0.15"/>
  <rect x="470" y="335" width="55" height="3" fill="#3a3535" opacity="0.08"/>
  <rect x="460" y="360" width="120" height="25" fill="rgba(250,247,242,0.4)" stroke="#3a3535" stroke-width="1.5"/>
  <rect x="470" y="367" width="45" height="4" fill="#3a3535" opacity="0.15"/>
  <rect x="470" y="375" width="60" height="3" fill="#3a3535" opacity="0.08"/>
  <rect x="460" y="400" width="120" height="25" fill="rgba(250,247,242,0.4)" stroke="#3a3535" stroke-width="1.5"/>
  <rect x="470" y="407" width="35" height="4" fill="#3a3535" opacity="0.15"/>
  <rect x="470" y="415" width="50" height="3" fill="#3a3535" opacity="0.08"/>
  <rect x="460" y="450" width="120" height="8" fill="rgba(250,247,242,0.3)" stroke="#3a3535" stroke-width="1"/>
  <rect x="460" y="450" width="85" height="8" fill="#ffe480" stroke="#3a3535" stroke-width="1"/>

  <!-- Stage 3: Outputs -->
  <rect x="770" y="240" width="140" height="100" fill="#ffe480" stroke="#3a3535" stroke-width="2.5" filter="url(#hs)"/>
  <rect x="790" y="265" width="50" height="5" fill="#3a3535" opacity="0.25"/>
  <rect x="790" y="278" width="100" height="4" fill="#3a3535" opacity="0.12"/>
  <rect x="790" y="288" width="80" height="4" fill="#3a3535" opacity="0.12"/>
  <rect x="790" y="298" width="90" height="4" fill="#3a3535" opacity="0.12"/>
  <rect x="790" y="308" width="60" height="4" fill="#3a3535" opacity="0.12"/>
  <rect x="770" y="400" width="140" height="100" fill="#ffe480" stroke="#3a3535" stroke-width="2.5" filter="url(#hs)"/>
  <rect x="790" y="425" width="55" height="5" fill="#3a3535" opacity="0.25"/>
  <rect x="790" y="438" width="95" height="4" fill="#3a3535" opacity="0.12"/>
  <rect x="790" y="448" width="75" height="4" fill="#3a3535" opacity="0.12"/>
  <rect x="790" y="458" width="85" height="4" fill="#3a3535" opacity="0.12"/>
  <rect x="790" y="468" width="65" height="4" fill="#3a3535" opacity="0.12"/>

  <!-- Stage labels -->
  <rect x="105" y="130" width="65" height="6" fill="#3a3535" opacity="0.15"/>
  <rect x="490" y="230" width="60" height="6" fill="#3a3535" opacity="0.15"/>
  <rect x="810" y="210" width="55" height="6" fill="#3a3535" opacity="0.15"/>

  <!-- Flow dots -->
  <circle cx="310" cy="250" r="3" fill="#3a3535" opacity="0.12"/>
  <circle cx="330" cy="410" r="3" fill="#3a3535" opacity="0.1"/>
  <circle cx="370" cy="480" r="3" fill="#3a3535" opacity="0.08"/>
  <circle cx="690" cy="250" r="3" fill="#3a3535" opacity="0.1"/>
  <circle cx="720" cy="420" r="3" fill="#3a3535" opacity="0.1"/>
  <circle cx="670" cy="500" r="3" fill="#3a3535" opacity="0.08"/>

  <!-- Accent blocks -->
  <rect x="80" y="660" width="50" height="8" fill="#ffa878" stroke="#3a3535" stroke-width="1.5"/>
  <rect x="460" y="660" width="55" height="8" fill="#7fb4e0" stroke="#3a3535" stroke-width="1.5"/>
  <rect x="830" y="660" width="60" height="8" fill="#ffe480" stroke="#3a3535" stroke-width="1.5"/>

  <!-- Dust -->
  <rect x="350" y="140" width="5" height="5" fill="#3a3535" opacity="0.08"/>
  <rect x="650" y="160" width="5" height="5" fill="#3a3535" opacity="0.06"/>
  <rect x="950" y="580" width="5" height="5" fill="#3a3535" opacity="0.08"/>
  <rect x="40" y="650" width="5" height="5" fill="#3a3535" opacity="0.06"/>
</svg>
